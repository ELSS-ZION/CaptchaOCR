package main

/*
#cgo pkg-config: python3
#include "python_wrapper.h"
#include <stdlib.h>
*/
import "C"
import (
	"fmt"
	"unsafe"
)

func main() {
	// 初始化 Python
	C.init_python()
	defer C.cleanup_python()

	// 示例：使用 base64 编码的图片数据
	imageData := "/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABGAKADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD0iOJWj0z/AIlPmCT78ny/6bweeeDx8/z4+7Xz5qnxF8Y6FrV/pl1Nbme1neLL2sYdNpx8pUDaO/HHNfQSSW4Gm7tTkjaL/XKMYsvpxgfNhfmzwT2r56+MmlrZ+N5L6J2lt79BIszjBkZflY/oKAPoTTri11MafeW+gg2t1ZidLYbCJNwB8zrt4yByd3z9Kz9a1KHRPCVzq9xpgxbOzPckn5wG4hz97r+6+YYrlvg7rUeoeFbWO61Oa2aw8y2abIGwfeRQTkYILds5Qc9K5r4z+IRFpOn+Hbe7mJkka6uIDwqqDiMkHnLcsQT1oAn8PfF6613xDBpsPg+xle7KxxRRysFhPJZ1G0445OMfdr1YGBE0vzNNRhL992Kj7dx15ODn7/z46V8iact9JfRxacZhdS/IghYhmz2GPWt+4+H3ixLeW6m0uQiMEyfvo2dMHHzKGyD7EZoA+nJQqWWoynTRD5b/AC3Gf+PJcDjPXgfP8uR83pUlvJZ3l9EbbRopYPKbdbxPGwdxjL8Hblcgcnd8/TpXyfpnijV9J0+80yG9m/s+8iaKe1ZzsbIxnHYjg5Hpg8cV7B8CLqIaJeRz3z2aRXLnzlIG3ci4UE5HzYY9M/KPagD0wJ/xLo3/ALLzIbja1zn7w3Y8nP3uv7v5hisbVPF+h6P4wHh+70WRb27RFtLYRjbGzEgNkHC7jx8mT8o7mtYNANOij/tCYSLPuNtg/Imf9bj7wO35+SRu7ZryH4sNFbfFPQNSivZbmI+Tm5PUlJcnBXAOAw6YoA73xr4tg8F6Lo2oSaAt4k8uyVmlCC7XYTuPBzztb5hmqPhD4h2HjJtUt7bQZLSaGPz0uDIHW0jyF4I+bgktgDHJ7VyPx0vENn4bskvGkkRJnmtyRtt2+UBQOv8AeHOeAO1R/A63iNr4iuGuCsxWCKG3HP2gkuSpHXGQucHvzQB7d5Kf2lCh8PbUMBY2nyfO3H7zrt+Xgcnd8/SqoT/iXRv/AGXmQ3G1rnP3hux5Ofvdf3fzDFTCaz/tGGQa7MYhBtN0SuUPaPONvIySMZyo5ziqwaAadFH/AGhMJFn3G2wfkTP+tx94Hb8/JI3ds0AWzCv228VdAyEiBjt/l/cnn5+DgbufuZPyVHHGpTTP+JT5ok+/Jx/p3B98HI+f58fdpWltDd3zHWp/Lkjws4wTcHugwMHHGNmPvH3piSW4Gm7tTkjaL/XKMYsvpxgfNhfmzwT2oAJExaai39l+UyPhZ8/8eQwOP73A+f5cj5vSrHkp/aUKHw9tQwFjafJ87cfvOu35eByd3z9KqO8Btb9F1GWR5JMwwEf8fnozDqQTkZBAwBxjFTiaz/tGGQa7MYhBtN0SuUPaPONvIySMZyo5zigCEJ/xLo3/ALLzIbja1zn7w3Y8nP3uv7v5hirBhX7beKugZCRAx2/y/uTz8/BwN3P3Mn5KqBoBp0Uf9oTCRZ9xtsH5Ez/rcfeB2/PySN3bNWGltDd3zHWp/Lkjws4wTcHugwMHHGNmPvH3oAlh+2+XoRSC2KL/AMepZvmf5T9/j5flyeN3zYrzf4zaFdah4PvNTNvAJNNvw8zIeVDhVKqO68xHPByDx6d8gs86dvjuzIc/aGTdhvXysc/ew37vsDVDWNO07VfD2tae0N0v2gNFAWJCR5BAMh+6CGJb5vmwR3oA8e+BGtSab4svbVTBiezd/wDSHKoNnzE5wf4cn6A1wPiHVZvEnie7vgpJuZz5SKMYUnCqB27cVn7rnT7qVA0kE6b4XwSCMgqyn6gkH6mu2+FPh5dX8TfbbmFnsrHDPgcMzdF+uAxGOcgUAcv4ZvDYeKdKuwUHlXcTHeAVxuGc57Yr6ZvvHWiaPZaXPPquklLVd0UaXAkmYbTjeq5ZTtz0DfNivle7t2tL2e2bO6GRozkYOQcdK73S/g9ruoRWs8tzawQXCh1YLI7FTj7oC/Pwc/KTQBxWsXq6rr1/fQwCJbu6kmSFf4A7EhR9M4r179n57qHWtbs4YonuUjU+XM21QMkNyAec7e3r0rZ8KfC7RPDqT3929zf6pC4+yyPEEghbszg5AIPOGPTGBnpz/wAP2s9B+M+taVfx3ccFz5wt0QOshOd8edvPKE+3PpQB7KBef2NAohtvIF7w3G4yeZ029Au/jIJ+XtXkP7QMNwNT0u9njjjuELKwiOVAOCvPBJ+Vs5A7V6oBZ/2dD+5ufN8/GR/q/L9B/Bv2fL8vzbq8r+O1xZkWFjarMJHnMipNnzfu4YkN82DlQN3PymgDm/jJqL3uuaLFhBFDpMRj2nJKsWYFvRsFcjmu4+CtrcJ8NdanEUJtprsiWQn94qqi52r0J5OORg9M15H46c/8JVNASSbaCCBvmyNyxKHx7FtxGOxr234XW0Ft8L4DIkpupGaSJ1z5S5c7TJ/Dx1+bnBGKAPR/+Jn/AG3bM1rZfaPsrBUD/IV43EtjOc7cDGMZ5qiBef2NAohtvIF7w3G4yeZ029Au/jIJ+XtQF03+0YQtvqIh8j5lPmeaWx8uP49oG4HHy8jtVUCz/s6H9zc+b5+Mj/V+X6D+Dfs+X5fm3UAap/tI6nqeLay89oF8xS2VVedpBx8x+9nO3otQw/bfL0IpBbFF/wCPUs3zP8p+/wAfL8uTxu+bFQONO+1X4a3v2h8v5V+feW/iL552n5ceZx8ppiCzzp2+O7Mhz9oZN2G9fKxz97Dfu+wNAE0wvP7P1kSQWwiMpN0VxlDtGdg6H5dvJIOc8Zq7/wATP+27ZmtbL7R9lYKgf5CvG4lsZznbgYxjPNZLCzFrfeXFcrIJB9nLZ2Jzx5v8OQ2T8/zYI71YC6b/AGjCFt9REPkfMp8zzS2Plx/HtA3A4+XkdqAAC8/saBRDbeQL3huNxk8zpt6Bd/GQT8varZ/tI6nqeLay89oF8xS2VVedpBx8x+9nO3otZQFn/Z0P7m583z8ZH+r8v0H8G/Z8vy/Nuqw4077Vfhre/aHy/lX595b+Ivnnaflx5nHymgCWE3OzRFW+gQH/AFEZXJh+Uj5+fnwPk/h5amSvcHT9XLahDJH5uJlA5uDgDCH+HIwmMH7p570kcalNM/4lPmiT78nH+ncH3wcj5/nx92myJi01Fv7L8pkfCz5/48hgcf3uB8/y5HzelAHP6h8MfDOq68z3kFhLdXUbXMsymRFLHkkqrj5myWzkD5TxVzQfD1h4a8PLDpEsFtazXwYx7iztICAHLtnKjaH24HHetzyU/tKFD4e2oYCxtPk+duP3nXb8vA5O75+lVQn/ABLo3/svMhuNrXOfvDdjyc/e6/u/mGKAPl74g2T6f8Qtft3ZGYX0rkouB8zbuBk4HPrX0b4HvLu98F+D5P7Rgz9nEcIKf6soCmWGfm4BTqvLfjVuXwzosutaldP4Ms5biSJfkkhQtHgEB88gZxj5Mn5Pc1atbWCG20mKHRU8lhglFUC8GD26dPn+fH3aAJJXuDp+rltQhkj83Eygc3BwBhD/AA5GExg/dPPeuR8c/Dl/FmvWl/a63Ba65FbrJHdxgopCcruwchuSQ4PRTxwMdXImLTUW/svymR8LPn/jyGBx/e4Hz/LkfN6VY8lP7ShQ+HtqGAsbT5Pnbj9512/LwOTu+fpQB5fHa/FtdKhtx4h0j7Mbr5JmKli+/du/1eSM/PkjpzXNSS6P4b8X3+peLfEk2s+I7A4SNLd3XzR0Cs2ACvYngZ6ZHHtYT/iXRv8A2XmQ3G1rnP3hux5Ofvdf3fzDFeY698E5dY8R6rew3dxbmaV7j7MLVG8pXJKjIcDHUDbuPy9KAPFr25n1vWpp1iYzXcxKRJ8xyx+VR69gK+qNA02bRfBMmm/bYTHaxxw3EanJnYIAQjds42YweVPPeua8JfC3R/Dd7puoPZXGqXDsWje42eXKMHHlp0HGW+c/w8etdtImLTUW/svymR8LPn/jyGBx/e4Hz/LkfN6UAXs3p1m3H9q2rTfZSVk8v5VXjIK56tgHOf4DxVIPP/Y8Df2jD5LXnyp/EX353lu65/eYwOO9T+Sn9pQofD21DAWNp8nztx+867fl4HJ3fP0qqE/4l0b/ANl5kNxta5z94bseTn73X938wxQBeZrwajqf/E1tkkSBfNl2YXbzhQM/KVyTn5vvioYTc7NEVb6BAf8AURlcmH5SPn5+fA+T+HlqDCv228VdAyEiBjt/l/cnn5+DgbufuZPyVHHGpTTP+JT5ok+/Jx/p3B98HI+f58fdoAWV7g6fq5bUIZI/NxMoHNwcAYQ/w5GExg/dPPereb06zbj+1bVpvspKyeX8qrxkFc9WwDnP8B4qjImLTUW/svymR8LPn/jyGBx/e4Hz/LkfN6VY8lP7ShQ+HtqGAsbT5Pnbj9512/LwOTu+fpQBAHn/ALHgb+0YfJa8+VP4i+/O8t3XP7zGBx3q2zXg1HU/+JrbJIkC+bLswu3nCgZ+UrknPzffFUQn/Eujf+y8yG42tc5+8N2PJz97r+7+YYqwYV+23iroGQkQMdv8v7k8/PwcDdz9zJ+SgCFJLcDTd2pyRtF/rlGMWX04wPmwvzZ4J7Ux3gNrfouoyyPJJmGAj/j89GYdSCcjIIGAOMYq3D9t8vQikFsUX/j1LN8z/Kfv8fL8uTxu+bFRzC8/s/WRJBbCIyk3RXGUO0Z2Dofl28kg5zxmgAE1n/aMMg12YxCDabolcoe0ecbeRkkYzlRznFVg0A06KP8AtCYSLPuNtg/Imf8AW4+8Dt+fkkbu2a1v+Jn/AG3bM1rZfaPsrBUD/IV43EtjOc7cDGMZ5qiBef2NAohtvIF7w3G4yeZ029Au/jIJ+XtQANLaG7vmOtT+XJHhZxgm4PdBgYOOMbMfePvTEktwNN3anJG0X+uUYxZfTjA+bC/NngntV4/2kdT1PFtZee0C+YpbKqvO0g4+Y/eznb0WoYftvl6EUgtii/8AHqWb5n+U/f4+X5cnjd82KAKjvAbW/RdRlkeSTMMBH/H56Mw6kE5GQQMAcYxU4ms/7RhkGuzGIQbTdErlD2jzjbyMkjGcqOc4omF5/Z+siSC2ERlJuiuModozsHQ/Lt5JBznjNXf+Jn/bdszWtl9o+ysFQP8AIV43EtjOc7cDGMZ5oAyQ0A06KP8AtCYSLPuNtg/Imf8AW4+8Dt+fkkbu2asNLaG7vmOtT+XJHhZxgm4PdBgYOOMbMfePvQBef2NAohtvIF7w3G4yeZ029Au/jIJ+XtVs/wBpHU9TxbWXntAvmKWyqrztIOPmP3s529FoAopJbgabu1OSNov9coxiy+nGB82F+bPBPamO8Btb9F1GWR5JMwwEf8fnozDqQTkZBAwBxjFW4ftvl6EUgtii/wDHqWb5n+U/f4+X5cnjd82KjmF5/Z+siSC2ERlJuiuModozsHQ/Lt5JBznjNAAJrP8AtGGQa7MYhBtN0SuUPaPONvIySMZyo5ziqwaAadFH/aEwkWfcbbB+RM/63H3gdvz8kjd2zWt/xM/7btma1svtH2VgqB/kK8biWxnOduBjGM81RAvP7GgUQ23kC94bjcZPM6begXfxkE/L2oAGltDd3zHWp/Lkjws4wTcHugwMHHGNmPvH3piSW4Gm7tTkjaL/AFyjGLL6cYHzYX5s8E9qvH+0jqep4trLz2gXzFLZVV52kHHzH72c7ei1DD9t8vQikFsUX/j1LN8z/Kfv8fL8uTxu+bFAFR3gNrfouoyyPJJmGAj/AI/PRmHUgnIyCBgDjGKnE1n/AGjDINdmMQg2m6JXKHtHnG3kZJGM5Uc5xRMLz+z9ZEkFsIjKTdFcZQ7RnYOh+XbySDnPGau/8TP+27ZmtbL7R9lYKgf5CvG4lsZznbgYxjPNAGSGgGnRR/2hMJFn3G2wfkTP+tx94Hb8/JI3ds1YaW0N3fMdan8uSPCzjBNwe6DAwccY2Y+8fegC8/saBRDbeQL3huNxk8zpt6Bd/GQT8varZ/tI6nqeLay89oF8xS2VVedpBx8x+9nO3otAFGOOzMmkK6zmWbPnsJCB97B2c/J8+D8uOM1E32L7BqMkaTho5wlvubIBLEAuOjfOGOSCcEc5oooAtLFpp1eCFUuhEbUSNmY7slSVw2cgBQ4IzjkcVSBsTo9tN5c++S4KgbvlEeM/d6BvL4yADnvRRQBamTTUvNWV0ujDBETjzTuZuN2STlgcpgNnoabHHZmTSFdZzLNnz2EhA+9g7Ofk+fB+XHGaKKAIm+xfYNRkjScNHOEt9zZAJYgFx0b5wxyQTgjnNWli006vBCqXQiNqJGzMd2SpK4bOQAocEZxyOKKKAKQNidHtpvLn3yXBUDd8ojxn7vQN5fGQAc96tTJpqXmrK6XRhgiJx5p3M3G7JJywOUwGz0NFFADY47MyaQrrOZZs+ewkIH3sHZz8nz4Py44zUTfYvsGoyRpOGjnCW+5sgEsQC46N84Y5IJwRzmiigC0sWmnV4IVS6ERtRI2ZjuyVJXDZyAFDgjOORxVIGxOj203lz75LgqBu+UR4z93oG8vjIAOe9FFAFqZNNS81ZXS6MMEROPNO5m43ZJOWBymA2ehpscdmZNIV1nMs2fPYSED72Ds5+T58H5ccZoooAib7F9g1GSNJw0c4S33NkAliAXHRvnDHJBOCOc1aWLTTq8EKpdCI2okbMx3ZKkrhs5AChwRnHI4oooApA2J0e2m8uffJcFQN3yiPGfu9A3l8ZABz3q1MmmpeasrpdGGCInHmnczcbsknLA5TAbPQ0UUAf//Z" // 这里需要替换为实际的 base64 图片数据
	cImageData := C.CString(imageData)
	defer C.free(unsafe.Pointer(cImageData))

	// 识别验证码
	result := C.recognize_captcha(cImageData)
	defer C.free(unsafe.Pointer(result))

	// 打印结果
	fmt.Printf("验证码识别结果: %s\n", C.GoString(result))
}
